{
  "contractName": "StakingPoolStakingImpl",
  "sourceName": "contracts/StakingPoolStakingImpl.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ctsi",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_staking",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "version",
          "type": "uint8"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "Paused",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "Unpaused",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "amount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "amountToShares",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "amounts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "stake",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "unstake",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "withdraw",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paused",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pos",
      "outputs": [
        {
          "internalType": "contract IPoS",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "rebalance",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "requiredLiquidity",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "shares",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_shares",
          "type": "uint256"
        }
      ],
      "name": "sharesToAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "balance",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "shares",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "depositTimestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60c060405234801561001057600080fd5b50604051610b25380380610b2583398101604081905261002f91610069565b6001600160601b0319606092831b8116608052911b1660a05261009c565b80516001600160a01b038116811461006457600080fd5b919050565b6000806040838503121561007c57600080fd5b6100858361004d565b91506100936020840161004d565b90509250929050565b60805160601c60a05160601c610a3b6100ea600039600081816102ee015281816103ca015281816104640152818161054b015281816105cc015261064d015260006102500152610a3b6000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c80637d7c2a1c1161008c578063b811540e11610066578063b811540e146101ab578063c56551b6146101be578063e366b7bb146101d1578063f2fde38b146101da57600080fd5b80637d7c2a1c146101755780638da5cb5b1461017d578063aa8c217c146101a257600080fd5b80630103c92b146100d457806303314efa14610123578063555d8ebb1461013a5780635c975abb1461014d5780636beaeeae14610163578063715018a61461016b575b600080fd5b6101036100e2366004610924565b609b6020526000908152604090208054600182015460029092015490919083565b604080519384526020840192909252908201526060015b60405180910390f35b61012c60975481565b60405190815260200161011a565b61012c61014836600461094d565b6101ed565b60335460ff16604051901515815260200161011a565b61010361022a565b610173610507565b005b61017361051b565b6065546001600160a01b03165b6040516001600160a01b03909116815260200161011a565b61012c60985481565b61012c6101b936600461094d565b6106b7565b609a5461018a906001600160a01b031681565b61012c60995481565b6101736101e8366004610924565b6106ee565b600060975460001415610209576102038261076c565b92915050565b610203609754610224609854856107a090919063ffffffff16565b906107da565b6040516370a0823160e01b81523060048201526000908190819081906001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a082319060240160206040518083038186803b15801561029257600080fd5b505afa1580156102a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102ca9190610966565b905060995481111561038d57604051631066f98960e21b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063419be6249060240160206040518083038186803b15801561033857600080fd5b505afa15801561034c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103709190610966565b9050806103875760995461038490836109d8565b94505b50610501565b806099541115610501576000816099546103a791906109d8565b604051638e9f04b560e01b81523060048201529091506000906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690638e9f04b59060240160206040518083038186803b15801561040c57600080fd5b505afa158015610420573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104449190610966565b905080156104fa576040516367ba9b9160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906367ba9b919060240160206040518083038186803b1580156104ae57600080fd5b505afa1580156104c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e69190610966565b9050428110156104f4578194505b506104fe565b8194505b50505b50909192565b61050f61081d565b6105196000610877565b565b600080600061052861022a565b9194509250905082156105b05760405163534a7e1d60e11b8152600481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a694fc3a90602401600060405180830381600087803b15801561059757600080fd5b505af11580156105ab573d6000803e3d6000fd5b505050505b8115610631576040516305c2fbcf60e31b8152600481018390527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e17de7890602401600060405180830381600087803b15801561061857600080fd5b505af115801561062c573d6000803e3d6000fd5b505050505b80156106b257604051632e1a7d4d60e01b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e1a7d4d90602401600060405180830381600087803b15801561069957600080fd5b505af11580156106ad573d6000803e3d6000fd5b505050505b505050565b6000609854600014156106cd57610203826108c9565b6102036098546106e8609754856108d990919063ffffffff16565b90610901565b6106f661081d565b6001600160a01b0381166107605760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084015b60405180910390fd5b61076981610877565b50565b60008061077e6002633b9aca00610997565b9050633b9aca0061078f848361097f565b6107999190610997565b9392505050565b60006b033b2e3c9fd0803ce80000006107b983856109b9565b6107d060026b033b2e3c9fd0803ce8000000610997565b61078f919061097f565b6000806107e8600284610997565b9050826108016b033b2e3c9fd0803ce8000000866109b9565b61080b908361097f565b6108159190610997565b949350505050565b6065546001600160a01b031633146105195760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610757565b606580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6000610203633b9aca00836109b9565b6000670de0b6b3a76400006108ee83856109b9565b6107d06002670de0b6b3a7640000610997565b60008061090f600284610997565b905082610801670de0b6b3a7640000866109b9565b60006020828403121561093657600080fd5b81356001600160a01b038116811461079957600080fd5b60006020828403121561095f57600080fd5b5035919050565b60006020828403121561097857600080fd5b5051919050565b60008219821115610992576109926109ef565b500190565b6000826109b457634e487b7160e01b600052601260045260246000fd5b500490565b60008160001904831182151516156109d3576109d36109ef565b500290565b6000828210156109ea576109ea6109ef565b500390565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220d2f8ee28710c700a77ba96f04a6f515e295b2138850c9ddea5c00393d33c234764736f6c63430008070033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100cf5760003560e01c80637d7c2a1c1161008c578063b811540e11610066578063b811540e146101ab578063c56551b6146101be578063e366b7bb146101d1578063f2fde38b146101da57600080fd5b80637d7c2a1c146101755780638da5cb5b1461017d578063aa8c217c146101a257600080fd5b80630103c92b146100d457806303314efa14610123578063555d8ebb1461013a5780635c975abb1461014d5780636beaeeae14610163578063715018a61461016b575b600080fd5b6101036100e2366004610924565b609b6020526000908152604090208054600182015460029092015490919083565b604080519384526020840192909252908201526060015b60405180910390f35b61012c60975481565b60405190815260200161011a565b61012c61014836600461094d565b6101ed565b60335460ff16604051901515815260200161011a565b61010361022a565b610173610507565b005b61017361051b565b6065546001600160a01b03165b6040516001600160a01b03909116815260200161011a565b61012c60985481565b61012c6101b936600461094d565b6106b7565b609a5461018a906001600160a01b031681565b61012c60995481565b6101736101e8366004610924565b6106ee565b600060975460001415610209576102038261076c565b92915050565b610203609754610224609854856107a090919063ffffffff16565b906107da565b6040516370a0823160e01b81523060048201526000908190819081906001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906370a082319060240160206040518083038186803b15801561029257600080fd5b505afa1580156102a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102ca9190610966565b905060995481111561038d57604051631066f98960e21b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063419be6249060240160206040518083038186803b15801561033857600080fd5b505afa15801561034c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103709190610966565b9050806103875760995461038490836109d8565b94505b50610501565b806099541115610501576000816099546103a791906109d8565b604051638e9f04b560e01b81523060048201529091506000906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690638e9f04b59060240160206040518083038186803b15801561040c57600080fd5b505afa158015610420573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104449190610966565b905080156104fa576040516367ba9b9160e01b81523060048201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906367ba9b919060240160206040518083038186803b1580156104ae57600080fd5b505afa1580156104c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104e69190610966565b9050428110156104f4578194505b506104fe565b8194505b50505b50909192565b61050f61081d565b6105196000610877565b565b600080600061052861022a565b9194509250905082156105b05760405163534a7e1d60e11b8152600481018490527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a694fc3a90602401600060405180830381600087803b15801561059757600080fd5b505af11580156105ab573d6000803e3d6000fd5b505050505b8115610631576040516305c2fbcf60e31b8152600481018390527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e17de7890602401600060405180830381600087803b15801561061857600080fd5b505af115801561062c573d6000803e3d6000fd5b505050505b80156106b257604051632e1a7d4d60e01b8152600481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690632e1a7d4d90602401600060405180830381600087803b15801561069957600080fd5b505af11580156106ad573d6000803e3d6000fd5b505050505b505050565b6000609854600014156106cd57610203826108c9565b6102036098546106e8609754856108d990919063ffffffff16565b90610901565b6106f661081d565b6001600160a01b0381166107605760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084015b60405180910390fd5b61076981610877565b50565b60008061077e6002633b9aca00610997565b9050633b9aca0061078f848361097f565b6107999190610997565b9392505050565b60006b033b2e3c9fd0803ce80000006107b983856109b9565b6107d060026b033b2e3c9fd0803ce8000000610997565b61078f919061097f565b6000806107e8600284610997565b9050826108016b033b2e3c9fd0803ce8000000866109b9565b61080b908361097f565b6108159190610997565b949350505050565b6065546001600160a01b031633146105195760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610757565b606580546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6000610203633b9aca00836109b9565b6000670de0b6b3a76400006108ee83856109b9565b6107d06002670de0b6b3a7640000610997565b60008061090f600284610997565b905082610801670de0b6b3a7640000866109b9565b60006020828403121561093657600080fd5b81356001600160a01b038116811461079957600080fd5b60006020828403121561095f57600080fd5b5035919050565b60006020828403121561097857600080fd5b5051919050565b60008219821115610992576109926109ef565b500190565b6000826109b457634e487b7160e01b600052601260045260246000fd5b500490565b60008160001904831182151516156109d3576109d36109ef565b500290565b6000828210156109ea576109ea6109ef565b500390565b634e487b7160e01b600052601160045260246000fdfea2646970667358221220d2f8ee28710c700a77ba96f04a6f515e295b2138850c9ddea5c00393d33c234764736f6c63430008070033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "devdoc": {
    "kind": "dev",
    "methods": {
      "amounts()": {
        "returns": {
          "stake": "amount of tokens that can be staked",
          "unstake": "amount of tokens that must be unstaked to add liquidity",
          "withdraw": "amount of tokens that can be withdrawn to add liquidity"
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "paused()": {
        "details": "Returns true if the contract is paused, and false otherwise."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "amounts()": {
        "notice": "provide information for offchain about the amount for each staking operation on the main Staking contract"
      },
      "rebalance()": {
        "notice": "Move tokens from pool to staking or vice-versa, according to required liquidity. If the pool has more liquidity then necessary, it stakes tokens. If the pool has less liquidity then necessary, and has not started an unstake, it unstakes. If the pool has less liquity than necessary, and has started an unstake, it withdraws if possible."
      }
    },
    "notice": "This contract takes care of the interaction between the pool and the staking contract It makes sure that there is enough liquidity in the pool to fullfil all unstake request from users, by requesting to withdraw or unstake from Staking contract. The remaining balance is staked.",
    "version": 1
  },
  "evm": {
    "gasEstimates": {
      "creation": {
        "codeDepositCost": "523800",
        "executionCost": "infinite",
        "totalCost": "infinite"
      },
      "external": {
        "amount()": "2362",
        "amountToShares(uint256)": "infinite",
        "amounts()": "infinite",
        "owner()": "2365",
        "paused()": "2359",
        "pos()": "2381",
        "rebalance()": "infinite",
        "renounceOwnership()": "infinite",
        "requiredLiquidity()": "2361",
        "shares()": "2318",
        "sharesToAmount(uint256)": "infinite",
        "transferOwnership(address)": "28389",
        "userBalance(address)": "6749"
      },
      "internal": {
        "__StakingPoolStaking_init()": "infinite"
      }
    },
    "methodIdentifiers": {
      "amount()": "aa8c217c",
      "amountToShares(uint256)": "b811540e",
      "amounts()": "6beaeeae",
      "owner()": "8da5cb5b",
      "paused()": "5c975abb",
      "pos()": "c56551b6",
      "rebalance()": "7d7c2a1c",
      "renounceOwnership()": "715018a6",
      "requiredLiquidity()": "e366b7bb",
      "shares()": "03314efa",
      "sharesToAmount(uint256)": "555d8ebb",
      "transferOwnership(address)": "f2fde38b",
      "userBalance(address)": "0103c92b"
    }
  }
}